<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YoruNoFansub Admin Panel</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      background-color: #000;
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 30px;
    }

    .admin-box, .form-box {
      background-color: #111;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 15px #00ffff66;
      margin: 20px auto;
      max-width: 400px;
    }

    input, select {
      width: 90%;
      padding: 10px;
      margin: 10px 0;
      border: none;
      border-radius: 8px;
      font-size: 16px;
    }

    button {
      background-color: #00ffff;
      color: #000;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #00cccc;
    }

    #adminContent {
      display: none;
    }

    li button {
      margin-left: 10px;
      background-color: #ff2e63;
      color: white;
      border: none;
      border-radius: 6px;
      padding: 5px 8px;
      font-size: 14px;
      transition: background-color 0.3s ease;
    }

    li button:hover {
      background-color: #cc1c4f;
    }
  </style>
</head>
<body>
  <div class="admin-box" id="loginBox">
    <h2>YoruNoFansub Admin Giri≈üi</h2>
    <input type="password" id="adminPassword" placeholder="≈ûifre giriniz">
    <button onclick="login()">Giri≈ü Yap</button>
  </div>

  <div id="adminContent">
    <div class="form-box">
      <h3>Yeni B√∂l√ºm Ekle</h3>
      <select id="animeSelect">
        <option value="Unnamed Memory">Unnamed Memory</option>
        <option value="My Dress-Up Darling">My Dress-Up Darling</option>
      </select>
      <input type="text" id="videoLink" placeholder="Google Drive Embed Link">
      <input type="text" id="episodeNumber" placeholder="B√∂l√ºm Numarasƒ±">
      <button onclick="addEpisode()">Ekle</button>
    </div>

    <div class="form-box">
      <h3>Eklenen B√∂l√ºmler</h3>
      <ul id="episodeList" style="text-align:left;"></ul>
    </div>
  </div>

  <script>
    const correctPassword = "yoruno123";

    function login() {
      const pass = document.getElementById("adminPassword").value;
      if (pass === correctPassword) {
        document.getElementById("loginBox").style.display = "none";
        document.getElementById("adminContent").style.display = "block";
      } else {
        alert("≈ûifre yanlƒ±≈ü canƒ±m!");
      }
    }

    function addEpisode() {
      const anime = document.getElementById("animeSelect").value;
      const link = document.getElementById("videoLink").value;
      const number = document.getElementById("episodeNumber").value;
      const list = document.getElementById("episodeList");

      if (anime && link && number) {
        const li = document.createElement("li");
        li.innerHTML = `${anime} - ${number}: ${link} <button onclick="this.parentElement.remove()">‚ùå</button>`;
        list.appendChild(li);

        generateHTML(anime, number, link); // Sayfa olu≈üturulsun

        alert("B√∂l√ºm eklendi ve sayfa indirildi canƒ±m!");
        document.getElementById("videoLink").value = "";
        document.getElementById("episodeNumber").value = "";
      } else {
        alert("L√ºtfen t√ºm alanlarƒ± doldur bebeƒüim!");
      }
    }

    function generateHTML(anime, number, link) {
      const title = `${anime} - B√∂l√ºm ${number}`;
      const content = `
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>${title}</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <div class="logo-wrapper">
    <img src="images/logo.png" alt="YoruNoFansub Logo" class="site-logo">
  </div>

  <div class="menu">
    <a href="index.html" class="menu-item">üè† Ana Sayfa</a>
    <a href="menu.html" class="menu-item">üîô B√∂l√ºmler</a>
  </div>

  <div class="player-wrapper">
    <iframe src="${link}" frameborder="0" allowfullscreen></iframe>
  </div>
</body>
</html>
`;

      const blob = new Blob([content], { type: "text/html" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = `${anime.toLowerCase().replaceAll(" ", "-")}-bolum-${number}.html`;
      a.click();
      URL.revokeObjectURL(url);
    }
  </script>
</body>